import { SchemeNetworkClient, PaymentRequirements, PaymentPayloadResult } from '@x402/core/types';
import { C as ClientEvmSigner } from './signer-5OVDxViv.js';

/**
 * EVM client implementation for the Exact payment scheme.
 * Supports both EIP-3009 (transferWithAuthorization) and Permit2 flows.
 *
 * Routes to the appropriate authorization method based on
 * `requirements.extra.assetTransferMethod`. Defaults to EIP-3009
 * for backward compatibility with older facilitators.
 */
declare class ExactEvmScheme implements SchemeNetworkClient {
    private readonly signer;
    readonly scheme = "exact";
    /**
     * Creates a new ExactEvmClient instance.
     *
     * @param signer - The EVM signer for client operations
     */
    constructor(signer: ClientEvmSigner);
    /**
     * Creates a payment payload for the Exact scheme.
     * Routes to EIP-3009 or Permit2 based on requirements.extra.assetTransferMethod.
     *
     * @param x402Version - The x402 protocol version
     * @param paymentRequirements - The payment requirements
     * @returns Promise resolving to a payment payload result
     */
    createPaymentPayload(x402Version: number, paymentRequirements: PaymentRequirements): Promise<PaymentPayloadResult>;
}

/**
 * ERC20 allowance ABI for checking approval status.
 */
declare const erc20AllowanceAbi: readonly [{
    readonly type: "function";
    readonly name: "allowance";
    readonly inputs: readonly [{
        readonly name: "owner";
        readonly type: "address";
    }, {
        readonly name: "spender";
        readonly type: "address";
    }];
    readonly outputs: readonly [{
        readonly type: "uint256";
    }];
    readonly stateMutability: "view";
}];
/**
 * Creates transaction data to approve Permit2 to spend tokens.
 * The user sends this transaction (paying gas) before using Permit2 flow.
 *
 * @param tokenAddress - The ERC20 token contract address
 * @returns Transaction data to send for approval
 *
 * @example
 * ```typescript
 * const tx = createPermit2ApprovalTx("0x...");
 * await walletClient.sendTransaction({
 *   to: tx.to,
 *   data: tx.data,
 * });
 * ```
 */
declare function createPermit2ApprovalTx(tokenAddress: `0x${string}`): {
    to: `0x${string}`;
    data: `0x${string}`;
};
/**
 * Parameters for checking Permit2 allowance.
 * Application provides these to check if approval is needed.
 */
interface Permit2AllowanceParams {
    tokenAddress: `0x${string}`;
    ownerAddress: `0x${string}`;
}
/**
 * Returns contract read parameters for checking Permit2 allowance.
 * Use with a public client to check if the user has approved Permit2.
 *
 * @param params - The allowance check parameters
 * @returns Contract read parameters for checking allowance
 *
 * @example
 * ```typescript
 * const readParams = getPermit2AllowanceReadParams({
 *   tokenAddress: "0x...",
 *   ownerAddress: "0x...",
 * });
 *
 * const allowance = await publicClient.readContract(readParams);
 * const needsApproval = allowance < requiredAmount;
 * ```
 */
declare function getPermit2AllowanceReadParams(params: Permit2AllowanceParams): {
    address: `0x${string}`;
    abi: typeof erc20AllowanceAbi;
    functionName: "allowance";
    args: [`0x${string}`, `0x${string}`];
};

export { ExactEvmScheme as E, type Permit2AllowanceParams as P, createPermit2ApprovalTx as c, erc20AllowanceAbi as e, getPermit2AllowanceReadParams as g };
